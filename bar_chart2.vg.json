{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "data": {
      "url": "https://raw.githubusercontent.com/Deeksha1703/FIT3179_W10/main/country_data.json",
      "format": {"type": "json"}
    },
    "transform": [
      {"filter": "datum.Ladder_Score != null"},
      {"window": [{"op": "rank", "as": "rank"}], "sort": [{"field": "Ladder_Score", "order": "ascending"}]},
      {"filter": "datum.rank <= 10"}  
    ],
    "mark": {
      "type": "bar",
      "orient": "vertical",
      "tooltip": true,
      "color": "red"
    },
    "encoding": {
      "y": {
        "field": "Ladder_Score",
        "type": "quantitative",
        "axis": {"title": "Happiness Index"}
      },
      "x": {
        "field": "Country_Name",
        "type": "nominal",
        "sort": "ascending",  
        "axis": {"title": "Country"}
      },
      "tooltip": [
        {"field": "Country_Name", "title": "Country"},
        {"field": "Regional_Indicator", "title": "Continent"},
        {"field": "population", "title": "Population"},
        {"field": "Ladder_Score", "title": "Happiness Index"}
      ]
    },
    "config": {
      "bar": {
        "bandPaddingInner": 0.2,  
        "bandPaddingOuter": 0.1   
      },
      "axis": {
        "labelFont": "sans-serif",
        "titleFont": "sans-serif",
        "labelFontSize": 18,
        "titleFontSize": 16,
        "labelLimit": 0
      },
      "title": {
        "font": "sans-serif",
        "subtitleFont": "sans-serif",
        "fontSize": 20
      }
    }
  }
  